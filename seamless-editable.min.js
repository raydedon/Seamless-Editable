!function(t){function e(e,a){!a&&t(e).attr("placeholder")&&(a=t(e).attr("placeholder").trim());var i=t(e).attr("maxlength");return void 0!=i&&i>0&&a.length>i?!1:(t(".seamless-editable-dummy-container").text(a),t(".seamless-editable-dummy-container").css({"font-size":t(e).css("font-size"),"font-family":t(e).css("font-family"),"font-weight":t(e).css("font-weight"),"line-height":t(e).css("line-height"),"padding-top":t(e).css("padding-top"),"padding-right":t(e).css("padding-right"),"padding-bottom":t(e).css("padding-bottom"),"padding-left":t(e).css("padding-left"),"max-width":t(e).css("max-width")}),void t(e).width(t(".seamless-editable-dummy-container").width()+5))}t.fn.seamlessEditable=function(a){var i=t.extend({placeholder:"",maxlength:0,toolTipTitle:"",toolTipPlacement:"right",toolTipTrigger:"click | hover | manual",methodname:""},a);return i.lastsaveditemname=t(this).val(),0===t(".seamless-editable-dummy-container").length&&t("body").prepend('<span class="seamless-editable-dummy-container"></span>'),e(this,t(this).val()),""!=i.placeholder&&t(this).attr("placeholder",i.placeholder),i.maxlength>0&&t(this).attr("maxlength",i.maxlength),""!=i.toolTipTitle&&t(this).tooltip({title:i.toolTipTitle,trigger:i.toolTipTrigger,placement:i.toolTipPlacement}),t(this).hover(function(){t(this).toggleClass("bc-transparent bc-ccc")}).change(function(){if(""==t(this).val()||t(this).data("escapepressed"))return t(this).val(i.lastsaveditemname),e(this,t(this).val()),event.stopPropagation(),!1;i.lastsaveditemname=t(this).val();var a="/a/sle?methodname="+i.methodname+"&itemname="+t(this).val();t.ajax({url:a})}).click(function(){t(this).data("escapepressed",!1),e(this,t(this).val())}).keypress(function(a){var i=a.which||a.keyCode;if(i&&a.charCode||13===i){if(13===i)return t(this).blur(),!1;var s=String.fromCharCode(a.keyCode|a.charCode);e(this,t(this).val()+s)}}).keyup(function(a){var i=a.which||a.keyCode;(8===i||46===i)&&e(this,t(this).val())}).keydown(function(a){var i=a.which||a.keyCode;return(8===i||46===i||27===i)&&e(this,t(this).val()),27===i?(t(this).data("escapepressed",!0),t(this).blur(),!1):void 0})}}(jQuery);
